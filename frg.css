import React, { useState } from 'react';
import { DatePicker } from '@americanexpress/dls-react';
import Search from './Search';
import './StatusForm.css';

const StatusForm = () => {
  const [formData, setFormData] = useState({
    projectName: '',
    priority: '',
    jiraLink: '',
    arbApprovalDate: null,
    projectBuildStartDate: null,
    aclRaisedDate: null,
    firewallAclReqRaisedDate: null,
    firewallAclReqCompleteDate: null,
    projectBuildCompleteDate: null,
    projectValidationDate: null,
    projectHandoverDate: null,
    comments: ''
  });

  const [searchTerm, setSearchTerm] = useState('');

  const handleInputChange = (event) => {
    const { name, value } = event.target;
    setFormData(prevState => ({
      ...prevState,
      [name]: value
    }));
  };

  const handleDateChange = (name) => (event, date) => {
    setFormData(prevState => ({
      ...prevState,
      [name]: date
    }));
  };

  const handleSearchChange = (event) => {
    setSearchTerm(event.target.value);
  };

  const handleSubmit = (event) => {
    event.preventDefault();
    console.log('Form submitted:', formData);
    console.log('Search term:', searchTerm);
    // Add your form submission logic here
  };

  return (
    <form onSubmit={handleSubmit} className="status-form">
      <h2>Status Form</h2>

      <Search onSearchChange={handleSearchChange} searchTerm={searchTerm} />

      <div className="status-form-row">
        {/* UCE Team Column 1 */}
        <div className="status-form-column uce-column">
          <h3>UCE Team</h3>
          <div>
            <label htmlFor="projectName">Project Name:</label>
            <input
              type="text"
              id="projectName"
              name="projectName"
              value={formData.projectName}
              onChange={handleInputChange}
              required
            />
          </div>
          <div>
            <label htmlFor="priority">Priority:</label>
            <select
              id="priority"
              name="priority"
              value={formData.priority}
              onChange={handleInputChange}
              required
            >
              <option value="">Select Priority</option>
              <option value="High">High</option>
              <option value="Medium">Medium</option>
              <option value="Normal">Normal</option>
            </select>
          </div>
          <div>
            <label htmlFor="jiraLink">Jira Link:</label>
            <input
              type="url"
              id="jiraLink"
              name="jiraLink"
              value={formData.jiraLink}
              onChange={handleInputChange}
              required
            />
          </div>
          <div>
            <label htmlFor="arbApprovalDate">ARB Approval Date:</label>
            <DatePicker
              id="arbApprovalDate"
              date={formData.arbApprovalDate}
              onDateChange={handleDateChange('arbApprovalDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
        </div>

        {/* Platform Engineering Team Column 1 */}
        <div className="status-form-column platform-column">
          <h3>Platform Engineering Team</h3>
          <div>
            <label htmlFor="projectBuildStartDate">Project Build Start Date:</label>
            <DatePicker
              id="projectBuildStartDate"
              date={formData.projectBuildStartDate}
              onDateChange={handleDateChange('projectBuildStartDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
          <div>
            <label htmlFor="aclRaisedDate">ACL Raised Date:</label>
            <DatePicker
              id="aclRaisedDate"
              date={formData.aclRaisedDate}
              onDateChange={handleDateChange('aclRaisedDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
        </div>

        {/* UCE Team Column 2 */}
        <div className="status-form-column uce-column">
          <h3>UCE Team (Continued)</h3>
          <div>
            <label htmlFor="firewallAclReqRaisedDate">Firewall ACL Req Raised Date:</label>
            <DatePicker
              id="firewallAclReqRaisedDate"
              date={formData.firewallAclReqRaisedDate}
              onDateChange={handleDateChange('firewallAclReqRaisedDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
          <div>
            <label htmlFor="firewallAclReqCompleteDate">Firewall ACL Req Complete Date:</label>
            <DatePicker
              id="firewallAclReqCompleteDate"
              date={formData.firewallAclReqCompleteDate}
              onDateChange={handleDateChange('firewallAclReqCompleteDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
        </div>

        {/* Platform Engineering Team Column 2 */}
        <div className="status-form-column platform-column">
          <h3>Platform Engineering Team (Continued)</h3>
          <div>
            <label htmlFor="projectBuildCompleteDate">Project Build Complete Date:</label>
            <DatePicker
              id="projectBuildCompleteDate"
              date={formData.projectBuildCompleteDate}
              onDateChange={handleDateChange('projectBuildCompleteDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
          <div>
            <label htmlFor="projectValidationDate">Project Validation Date:</label>
            <DatePicker
              id="projectValidationDate"
              date={formData.projectValidationDate}
              onDateChange={handleDateChange('projectValidationDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
          <div>
            <label htmlFor="projectHandoverDate">Project Handover Date:</label>
            <DatePicker
              id="projectHandoverDate"
              date={formData.projectHandoverDate}
              onDateChange={handleDateChange('projectHandoverDate')}
              placeholder="MM/DD/YYYY"
            />
          </div>
        </div>
      </div>

      <div className="comments-section">
        <label htmlFor="comments">Project Comments:</label>
        <textarea
          id="comments"
          name="comments"
          value={formData.comments}
          onChange={handleInputChange}
        ></textarea>
      </div>

      <div className="submit-section">
        <button type="submit">Submit</button>
      </div>
    </form>
  );
};

export default StatusForm;
