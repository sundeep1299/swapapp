import React, { useState } from 'react';
import { DatePicker } from '@americanexpress/dls-react';
import Search from './Search'; // Import the simplified Search component

const StatusForm = () => {
  const [formData, setFormData] = useState({
    projectName: '',
    priority: '',
    jiraLink: '',
    arbApprovalDate: null,
    projectBuildStartDate: null,
    aclRaisedDate: null,
    firewallAclReqRaisedDate: null,
    firewallAclReqCompleteDate: null,
    projectBuildCompleteDate: null,
    projectValidationDate: null,
    projectHandoverDate: null,
    comments: ''
  });

  const [searchTerm, setSearchTerm] = useState('');

  const handleInputChange = (event) => {
    const { name, value } = event.target;
    setFormData(prevState => ({
      ...prevState,
      [name]: value
    }));
  };

  const handleDateChange = (name) => (event, date) => {
    setFormData(prevState => ({
      ...prevState,
      [name]: date
    }));
  };

  const handleSearchChange = (event) => {
    setSearchTerm(event.target.value);
  };

  const handleSubmit = (event) => {
    event.preventDefault();
    console.log('Form submitted:', formData);
    console.log('Search term:', searchTerm);
    // Add your form submission logic here
  };

  const formStyle = {
    maxWidth: '1200px',
    margin: '20px auto',
    padding: '20px',
    backgroundColor: 'white',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)'
  };

  const tableStyle = {
    width: '100%',
    borderCollapse: 'collapse',
    marginBottom: '20px'
  };

  const cellStyle = {
    padding: '10px',
    border: '1px solid #ccc'
  };

  const headerCellStyle = {
    ...cellStyle,
    backgroundColor: '#f0f0f0',
    fontWeight: 'bold'
  };

  const inputStyle = {
    width: '100%',
    padding: '8px',
    border: '1px solid #ccc',
    borderRadius: '4px'
  };

  const buttonStyle = {
    backgroundColor: '#007bff',
    color: 'white',
    padding: '10px 20px',
    border: 'none',
    borderRadius: '4px',
    cursor: 'pointer'
  };

  return (
    <form onSubmit={handleSubmit} style={formStyle}>
      <h2 style={{fontSize: '24px', fontWeight: 'bold', marginBottom: '20px'}}>Status Form</h2>

      <Search onSearchChange={handleSearchChange} searchTerm={searchTerm} />

      <table style={tableStyle}>
        <thead>
          <tr>
            <th style={headerCellStyle}>UCE Team</th>
            <th style={headerCellStyle}>Platform Engineering Team</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style={cellStyle}>
              <div>
                <label htmlFor="projectName">Project Name:</label>
                <input
                  type="text"
                  id="projectName"
                  name="projectName"
                  value={formData.projectName}
                  onChange={handleInputChange}
                  style={inputStyle}
                  required
                />
              </div>
              <div>
                <label htmlFor="priority">Priority:</label>
                <select
                  id="priority"
                  name="priority"
                  value={formData.priority}
                  onChange={handleInputChange}
                  style={inputStyle}
                  required
                >
                  <option value="">Select Priority</option>
                  <option value="High">High</option>
                  <option value="Medium">Medium</option>
                  <option value="Normal">Normal</option>
                </select>
              </div>
              <div>
                <label htmlFor="jiraLink">Jira Link:</label>
                <input
                  type="url"
                  id="jiraLink"
                  name="jiraLink"
                  value={formData.jiraLink}
                  onChange={handleInputChange}
                  style={inputStyle}
                  required
                />
              </div>
              <div>
                <label htmlFor="arbApprovalDate">ARB Approval Date:</label>
                <DatePicker
                  id="arbApprovalDate"
                  date={formData.arbApprovalDate}
                  onDateChange={handleDateChange('arbApprovalDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
            </td>
            <td style={cellStyle}>
              <div>
                <label htmlFor="projectBuildStartDate">Project Build Start Date:</label>
                <DatePicker
                  id="projectBuildStartDate"
                  date={formData.projectBuildStartDate}
                  onDateChange={handleDateChange('projectBuildStartDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
              <div>
                <label htmlFor="aclRaisedDate">ACL Raised Date:</label>
                <DatePicker
                  id="aclRaisedDate"
                  date={formData.aclRaisedDate}
                  onDateChange={handleDateChange('aclRaisedDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
            </td>
          </tr>
          <tr>
            <td style={cellStyle}>
              <div>
                <label htmlFor="firewallAclReqRaisedDate">Firewall ACL Req Raised Date:</label>
                <DatePicker
                  id="firewallAclReqRaisedDate"
                  date={formData.firewallAclReqRaisedDate}
                  onDateChange={handleDateChange('firewallAclReqRaisedDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
              <div>
                <label htmlFor="firewallAclReqCompleteDate">Firewall ACL Req Complete Date:</label>
                <DatePicker
                  id="firewallAclReqCompleteDate"
                  date={formData.firewallAclReqCompleteDate}
                  onDateChange={handleDateChange('firewallAclReqCompleteDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
            </td>
            <td style={cellStyle}>
              <div>
                <label htmlFor="projectBuildCompleteDate">Project Build Complete Date:</label>
                <DatePicker
                  id="projectBuildCompleteDate"
                  date={formData.projectBuildCompleteDate}
                  onDateChange={handleDateChange('projectBuildCompleteDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
              <div>
                <label htmlFor="projectValidationDate">Project Validation Date:</label>
                <DatePicker
                  id="projectValidationDate"
                  date={formData.projectValidationDate}
                  onDateChange={handleDateChange('projectValidationDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
              <div>
                <label htmlFor="projectHandoverDate">Project Handover Date:</label>
                <DatePicker
                  id="projectHandoverDate"
                  date={formData.projectHandoverDate}
                  onDateChange={handleDateChange('projectHandoverDate')}
                  placeholder="MM/DD/YYYY"
                />
              </div>
            </td>
          </tr>
        </tbody>
      </table>

      <div style={{marginBottom: '20px'}}>
        <label htmlFor="comments">Project Comments:</label>
        <textarea
          id="comments"
          name="comments"
          value={formData.comments}
          onChange={handleInputChange}
          style={{...inputStyle, height: '100px', width: '100%'}}
        ></textarea>
      </div>

      <div style={{textAlign: 'right'}}>
        <button type="submit" style={buttonStyle}>
          Submit
        </button>
      </div>
    </form>
  );
};

export default StatusForm;
